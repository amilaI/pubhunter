<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <title>Pub hunter Game</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!--Import Google Icon Font-->
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection"/>
        <link rel="icon" href="images/logo.png">
        <!--Let browser know website is optimized for mobile-->

        <meta charset="utf-8">
        <style>
            .dialog_text {
                color: #0089ec;
                font-weight: bold;
            }

            img.background {
                opacity: 0.5;
                filter: alpha(opacity=80);
                /* For IE8 and earlier */
            }

            img.circle {
                display: block;
                margin-left: auto;
                margin-right: auto;
                height: 130px;
                width: 130px;
            }
            .center{
              text-align: center;
            }


        </style>

    </head>

    <body>

        <ul id="slide-out" class="side-nav">
            <li>
                <div class="userView">
                    <div class="background">
                        <img class="background" src="images/pub.jpg">
                    </div>
                    <a href="#!user"><img class="circle" src="images/profilepic.png"></a>
                    <a href="#!name">
                        <span class="white-text name">Johnny Depp</span>
                    </a>
                    <a href="#!email">
                        <span class="white-text email">johnnydepp@gmail.com</span>
                    </a>
                </div>
            </li>
            <li>
                <a href="home.html" class="waves-effect">
                    <i class="material-icons">store</i>Home</a>
            </li>
            <li>
                <a href="items.html" class="waves-effect">
                    <i class="material-icons">assignment</i>Our Menu</a>
            </li>
            <li>
                <a href="promotions.html" class="waves-effect">
                    <i class="material-icons">loyalty</i>Promotions</a>
            </li>
            <li>
                <a href="maps.html" class="waves-effect">
                    <i class="material-icons">location_on</i>Pub Hunter</a>
            </li>
            <li>
                <a href="profile.html" class="waves-effect">
                    <i class="material-icons">perm_identity</i>My Profile</a>
            </li>
            <li>
                <a href="#!" class="waves-effect">
                    <i class="material-icons">phone</i>Contact Us</a>
            </li>
            <li>
                <a href="#!" class="waves-effect">
                    <i class="material-icons">search</i>Search</a>
            </li>

        </ul>

        <div class="row" style="background-color: #f5f5f5;margin-bottom: 3px;">
            <div class="col s12 m12 l12">
                <a href="#" data-activates="slide-out" class="button-collapse" style="padding-left: 5px;position: fixed;top: 12px;color: #757575;">
                    <i class="material-icons">menu</i>
                </a>

                <h5 style="text-align:center;font-weight: bold;font-family: 'Roboto', sans-serif;color: #757575;">Pub Hunter</h5>
            </div>
        </div>
        <div class="row">
            <div id="google_map" class="col s12 m12 l12" style="padding:0 !important;height:90%; width:100%;position: absolute;"></div>

            <div class="row" style="position: absolute;top: 95px;left: 10px;z-index: 99;width: 100%;">
                <div class="col s3 m2 l2">
                    <a class="waves-effect waves-light" href="#modal1"><img src="images/icon2.png" style="width: 70px;" class="responsive-img"/></a>
                </div>
                <div class="col s6 m8 l8" style="text-align: center;">

                    <div class="progress" style="height: 12px;border: 1px solid #9e9e9e;">
                        <div class="determinate" style="width: 70%;height:100%"></div>
                    </div>
                    <h5 style="color: #ee6e73;font-weight: bold;-webkit-text-stroke: 0.5px #c0392b;">7600 / 10000</h4>
                </div>
                <div class="col s3 m2 l2" style="text-align: right;padding-right: 20px;">
                    <a class="waves-effect waves-light" href="#myProfileModal"><img src="images/icon3.png" style="width: 70px;" class="responsive-img"/></a>
                </div>
            </div>

            <div class="row" style="position: absolute;top: 500px;left: 10px;z-index: 99;width:100%;">
                <div class="col s6 m6 l6">
                    <a class="waves-effect waves-light" href="#modal3"><img src="images/icon1.png" style="width: 70px;" class="responsive-img"/></a>
                </div>
                <div class="col s6 m6 l6" style="text-align: right;padding-right: 20px;">
                    <a class="waves-effect waves-light" href="#modal4"><img src="images/icon4.png" style="width: 70px;" class="responsive-img"/></a>
                </div>
            </div>
        </div>

        <!-- Modal Structure -->
        <div id="modal3" class="modal" style="top: 50% !important;">
            <div class="modal-content" style="text-align: center;">
                <h5 style="color: #0089ec;text-align: center;">My Badges</h4>
                <img src="images/badges.jpg" class="responsive-img"/>
                <a href="#!" style="color: #0089ec;text-align: center;font-weight:bold" class=" modal-action modal-close waves-effect waves-green btn-flat">OK</a>
            </div>
        </div>

        <div id="modal4" class="modal" style="top: 50% !important;">
            <div class="modal-content" style="text-align: center;">
                <h5 style="color: #0089ec;text-align: center;">My Challenges</h4>
                <div class="collection">
                    <a href="#!" class="collection-item" style="color:#757575;">
                        <i class="large material-icons" style="color:#0089ec;font-size: 21px;font-weight: bold;">done</i>&nbsp;&nbsp;Get two beers</a>
                    <a href="#!" class="collection-item" style="color:#757575;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a basic offer</a>
                    <a href="#!" class="collection-item" style="color:#757575;">
                        <i class="large material-icons" style="color:#0089ec;font-size: 21px;font-weight: bold;">done</i>&nbsp;&nbsp;Get 1 to 1 offer</a>
                    <a href="#!" class="collection-item" style="color:#757575;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get one cocktail</a>
                </div>
                <a href="#!" style="color: #0089ec;text-align: center;font-weight:bold" class=" modal-action modal-close waves-effect waves-green btn-flat">OK</a>
            </div>
        </div>

        <!-- Modal Structure -->
    <div id="rulesModal" class="modal">
      <div class="modal-content" style="text-align:center">
        <h4>Rules of the game</h4>
        <p>A bunch of text</p>
        <ol>
          <li>Test1</li>
          <li>Test1</li>
          <li>Test1</li>
          <li>Test1</li>
          <li>Test1</li>
          <li><br />
        <img class="activator center responsive-img" style="wifth:100px" src="images/demo.png">
        </li>
          <li>Test1</li>
          <li>Test1</li>
          <li>Test1</li>
          <li>Test1</li>
          <li>Test1</li>

        </ol>
      </div>
      <div class="modal-footer" style="text-align:center">
        <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat" style="text-align:center">OK I Got it</a>
      </div>
    </div>

    <div id="myProfileModal" class="modal">
      <div class="row" style="background-color: #f5f5f5;margin-bottom: 3px;">
          <div class="col s12 m12 l12">

              <h5 style="text-align:center;font-weight: bold;font-family: 'Roboto', sans-serif;color: #757575;">My Profile</h5>
          </div>
      </div>
      <div class="row" style="background-color: #FF4351;margin-bottom: 0 !important;">
          <div class="col s3">
              <div class="centerBlock">
                  <img class="activator center responsive-img" src="images/call.png" style="margin-top: 96px;">
              </div>
          </div>
          <div class="col s6">
              <div class="centerBlock">
                  <img class="activator center responsive-img" src="images/user.png" style="margin-top: 50px; margin-bottom: 50px;">
              </div>
          </div>
          <div class="col s3">
              <div class="centerBlock">
                  <img class="activator center responsive-img" src="images/msg.png" style="margin-top: 96px;">
              </div>
          </div>
      </div>
      <div class="row">
          <div class="col s6" style="background-color: #8BC8DB;">
              <h4 style="color:white" class="points">10 Points</h4>
          </div>
          <div class="col s6" style="background-color: #1B9AF7;">
              <h4 style="color:white" class="level">Level 3</h4>
          </div>

      </div>

      <div class="row">
          <div class="col s12">
              <span style="color:#FF5D69;font-weight: bold;">Email</span>
          </div>
          <div class="col s12">
              <span style="font-weight: bold; color: rgba(128, 128, 128, 0.65);">michale@gmail.com</span>
          </div>
      </div>

      <div class="row">
          <div class="col s12">
              <span style="color:#FF5D69;font-weight: bold;">Mobile</span>

          </div>
          <div class="col s12">
              <span style="font-weight: bold; color: rgba(128, 128, 128, 0.65);">94716667778</span>
          </div>
      </div>

      <div class="row">
          <div class="col s12">
              <span style="color:#FF5D69;font-weight: bold;">Address</span>
          </div>
          <div class="col s12">
              <span style="font-weight: bold; color: rgba(128, 128, 128, 0.65);">1st Cross Street, Barnes Place, Colombo 7</span>
          </div>
      </div>
    </div>

        <script>
            var map;
            var marker;

            function toggleBounce() {
                if (marker.getAnimation() !== null) {
                    marker.setAnimation(null);
                } else {
                    marker.setAnimation(google.maps.Animation.BOUNCE);
                }
            }

            function initMap() {

                var contentStringA = '<div id="infoA" style="text-align: left;"><h6 style="text-align: center;color: #0089ec;font-weight: bold;"><b>Pub Hunter Super Pub </b></h6><p>We know how important your leisure time is and we work really hard to give you the best environment to spend it in, a great range of food and drinks to enjoy and all at a price you can afford.</br><div class="row"><div class="col m12 s12 l12 center"><img class=responsive-img" style="width:200px" src="images/family.jpg"></div></div><div class="row"><div class="col m12 s12 l12"  style="border: 1px solid #d0d0d0;"' +
                        '><i class="material-icons">location_on</i>&nbsp;&nbsp;Colombo</div><div class="col m12 s12 l12" style="border: 1px solid #d0d0d0;"><i class="material-icons">call</i>&nbsp;&nbsp;011 111 223344</div></div><div class="row"><div class="col m12 s12 l12"><a id="challegesABtn" class="dialog_text waves-effect waves-teal btn-flat">Show Challenges</a></div></div></div>';

                var contentStringB = '<div style="text-align: left;"><h6 style="text-align: center;color: #0089ec;font-weight: bold;"><b>Pub Hunter Family Pub </b></h6><p>Information about this pub is here.</br><div class="row"><div class="col m12 s12 l12"  style="border: 1px solid #d0d0d0;"' +
                        '><i class="material-icons">location_on</i>&nbsp;&nbsp;Colombo</div><div class="col m12 s12 l12" style="border: 1px solid #d0d0d0;"><i class="material-icons">call</i>&nbsp;&nbsp;077 712 3456</div></div><div class="row"><div class="col m4 s4 l4"><a i' +
                        'd="okBtn" class="dialog_text waves-effect waves-teal btn-flat">OK</a></div><div class="col m8 s8 l8"><a class="dialog_text waves-effect waves-teal btn-flat">Details</a></div></div></div>';

                var contentStringC = '<div style="text-align: left;"><h6 style="text-align: center;color: #0089ec;font-weight: bold;"><b>Pub Hunter Mini Pub </b></h6><p>Information about this pub is here.</br><div class="row"><div class="col m12 s12 l12"  style="border: 1px solid #d0d0d0;"' +
                        '><i class="material-icons">location_on</i>&nbsp;&nbsp;Colombo</div><div class="col m12 s12 l12" style="border: 1px solid #d0d0d0;"><i class="material-icons">call</i>&nbsp;&nbsp;077 712 3456</div></div><div class="row"><div class="col m4 s4 l4"><a i' +
                        'd="okBtn" class="dialog_text waves-effect waves-teal btn-flat">OK</a></div><div class="col m8 s8 l8"><a class="dialog_text waves-effect waves-teal btn-flat">Details</a></div></div></div>';

                var infowindowA = new google.maps.InfoWindow({content: contentStringA, maxWidth: 300});
                var infowindowB = new google.maps.InfoWindow({content: contentStringB, maxWidth: 500});
                var infowindowC = new google.maps.InfoWindow({content: contentStringC, maxWidth: 500});

                var infowindow = new google.maps.InfoWindow({content: "My Location"});
                var myLatLng;
                if (navigator.geolocation) {
                  navigator.geolocation.getCurrentPosition(function(position) {
                    myLatLng = {
                      lat: position.coords.latitude,
                      lng: position.coords.longitude
                    };

                    map = new google.maps.Map(document.getElementById('google_map'), {
                        center: myLatLng,
                        zoom: 16
                    });

                    var marker = new google.maps.Marker({
                      position: myLatLng,
                      map: map,
                      title: 'My Location!'
                    });

                     google.maps.event.addListener(marker, "click", function(e) {
                         infowindow2.close();
                         infowindow2.open(map, this);
                         map.setCenter(marker.getPosition());
                         marker.addListener('click', toggleBounce);
                     });

                     var l1 = position.coords.latitude - 0.0030;
                     var l2 = position.coords.longitude - 0.0030;

                     var pubMarker1 = new google.maps.Marker({
                         position: {
                           lat: l1,
                           lng: l2
                         },
                         map: map,
                         icon: 'images/pub.png'
                     });

                     google.maps.event.addListener(pubMarker1, "click", function(e) {
                         infowindow.close();
                         infowindowA.close();
                         infowindowB.close();
                         infowindowC.close();
                         map.setCenter(pubMarker1.getPosition());
                         infowindowA.open(map, this);

                     });


                     var l3 = position.coords.latitude - 0.0030;
                     var l4 = position.coords.longitude - 0.0000000200;

                     var pubMarker2 = new google.maps.Marker({
                         position: {
                           lat: l3,
                           lng: l4
                         },
                         map: map,
                         icon: 'images/pub.png'
                     });

                     google.maps.event.addListener(pubMarker2, "click", function(e) {
                         infowindow.close();
                         infowindowA.close();
                         infowindowB.close();
                         infowindowC.close();
                         infowindowB.open(map, this);
                     });


                     var l4 = position.coords.latitude;
                     var l5 = position.coords.longitude + 0.00600;

                     var pubMarker3 = new google.maps.Marker({
                         position: {
                           lat: l4,
                           lng: l5
                         },
                         map: map,
                         icon: 'images/pub.png'
                     });

                     google.maps.event.addListener(pubMarker3, "click", function(e) {
                         infowindow.close();
                         infowindowA.close();
                         infowindowB.close();
                         infowindowC.close();
                         infowindowC.open(map, this);
                     });


                     google.maps.event.addListener(infowindow, 'domready', function() {
                       google.maps.event.addDomListener(contentStringA, 'click', function() {

                         alert($(this).attr('id'));
                       });
                     });

                  }, function() {

                  });
                }else{
                  alert("Unfortunately Google Maps cannot detect your current location! Please use Google Chrome and enable location settings!!");
                }
            }


        </script>
        <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCFJeqN1kwMVcMqGGG1UQKuFoiPsegJJwE&callback=initMap"></script>
        <script>
            $(document).ready(function() {
                // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
                $('.modal').modal();
                $(".button-collapse").sideNav();
                $('#rulesModal').modal('open');


                $(".dialog_text").on("click", function () {
                  alert("Hi");
                });
            });
        </script>
    </body>

</html>
